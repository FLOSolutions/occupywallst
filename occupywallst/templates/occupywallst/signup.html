{% extends 'occupywallst/base.html' %}

{% block scripts %}
  {{ block.super }}
  <script src="//maps.google.com/maps/api/js?sensor=false&region=us" type="text/javascript"></script>
  <script src="//maps.google.com/maps/api/js?libraries=places&sensor=false&region=us" type="text/javascript"></script>
  <script src="/media/js/markfield.js?v=2" type="text/javascript"></script>
{% endblock scripts %}

{% block js_init %}
  {{ block.super }}
  markfield_init({
    "elem": document.getElementById("map")
  });
{% endblock js_init %}

{% block content %}
  <section id="signup" style="margin: 0 0.5em; max-width: 700px; ">
    <h1>Signup</h1>
    <p>
      Signing up allows you to keep up on the latest news and get in
      touch with others in your area attending the event.  You might
      even be able to catch a free ride.  By signing up you're also
      helping us keep track of expected turnout.
    </p>
    <form action="." method="post">{% csrf_token %}
      <table class="formtable">
        <tbody>
          {{ form.as_table }}
          <tr>
            <th>Location:</th>
            <td>
              <div style="width: 400px; height: 300px;" id="map"></div>
              <span class="helptext">
                Optional.  <big><big><strong>Click some random
                place <em>nearby</em> where you
                live</strong></big></big> like a major intersection or
                a park.  This information is displayed publicly so if
                you place a marker directly on top of your house, you
                might get creepy stalkers.
                <a href="#" onClick="markfield_clear(); return false">Click here</a>
                to remove the marker.
              </span>
            </td>
          </tr>
        </tbody>
      </table>
      <p><input type="submit" value="Register my Account!" /></p>
    </form>
  </section>
{% endblock content %}
